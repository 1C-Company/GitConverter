﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta content="text/html" charset="UTF-8" http-equiv="Content-Type">
<meta name="GENERATOR" content="MSHTML 9.00.8112.16476"></meta>
<base href="v8config://a8dd2e89-c043-4f61-ab58-dafb034cd4c1/mdobject/id58570c20-db1f-43f1-af51-47fbbb1a4807/038b5c85-fb1c-4082-9c4c-e69f8928bf3a"></base>
</head>
<body>
<h1>1С:ГитКонвертер</h1>
<p><a href="https://its.1c.ru/db/metod8dev#content:5937:hdoc">Основные возможности</a></p>
<h2>Начальная настройка</h2>
<h3>Настройка базы ГитКонвертера</h3>

<ol>
<li>Разместите базу ГитКонвертера на сервере 1С. Работа в файловом режиме может быть использована только в демонстрационных целях.</li>
<li style="box-sizing: border-box; margin-top: 0.25em;">Заполните константу&nbsp;<span style="box-sizing: border-box; font-weight: 600;">"Путь к версиям платформы на сервере"</span>, где располагаются файлы Конфигуратора 1cv8(.exe) в формате:&nbsp;<code style="box-sizing: border-box; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.600000381469727px; padding: 0.2em 0.4em; margin: 0px; background-color: rgba(27, 31, 35, 0.0470588); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;">C:\Program files (x86)\1cv8\%ВерсияПлатформы%\bin</code>&nbsp;где в параметр %ВерсияПлатформы% - будет подставлена текущая версия хранилища из настроек.</li>
<li style="box-sizing: border-box; margin-top: 0.25em;">Для ограничения производительности можно включить константу&nbsp;<span style="box-sizing: border-box; font-weight: 600;">"Использовать очереди выполнения"</span>&nbsp;- количеством очередей можно балансировать нагрузку на сервер.</li>
</ol>
<h3>Настройка сервера 1С</h3>
<p>Для ИБ ГитКонвертера на сервере 1С рекомендуется настроить удаление, перенос в архив или полностью отключить журнал регистрации, т.к. интесивность событий в ИБ может быть очень высокой, а ценность истории ЖР за прошлые периоды - низкая.</p>
<p>Для легкого удаления и архивирования ЖР можно переключить его формат на старый режим. Для этого необходимо в каталог журнала регистрации ИБ скопировать пустой файл с именем: <b>1Cv8.lgf</b>. Для больших проектов рекомендуется выполнить такую настройку (удаление/бэкапирование файлов журнала регистрации).</p>
<p>Так же рекомендуется переключить регистрацию событий - только ошибки. Для этого следует выбрать команду <b>Конфигуратор - Администрирование - Настройка журнала регистрации... = Регистрировать ошибки</b> и в открывшемся диалоге установить минимально необходимую вам периодичностью.</p>
<p>Настройки хранилища конфигураций и параметров синхронизации с репозиторием git.</p>

<h2>Настройка конвертации хранилища 1С</h2>
<p>Рекомендуется использовать сервер хранилищ конфигураций 1С.</p>
<p>Для оптимальной работы сервера хранилищ настройте <b>Размер глобального кэша</b> в "Администрировании" в 1,5-2 раза больше количества параллельных потоков (если используются "копии хранилища") <b>получения версий * размер одной версии, Мб.</b></p>
<h3>Параметры конвертации</h3>
<ul>
<li>Укажите адрес хранилища. При использовании сервера хранилища рекомендуется настроить в администрировании хранилища параметр "Глобальный кэш версий конфигурации" чтобы количество кэшированных версий было больше параллельно получаемых версий.<br></li>
<li>Укажите версию платформы, рекомендуется использовать 8.3.9.1818 и выше.<br></li>
<li>Укажите начальную версию в хранилище конфигураций, если текущее хранилище было обрезано и первая версия больше 1.<br></li>
<li>Если указана версия окончания - не будет выполняться запрос новых версий.<br></li><li>Укажите расписание запусков.<br></li>
<li>Укажите <b>Каталог выгрузки версий</b>, в котором будут создаваться временные каталоги с номерами версий и выгрузкой данных.<br></li>
<li>Желательно ограничить количество подготавливаемых (выгружаемых) версий - рекомендуется установить значение исходя из <b>Размер базы с версией + Размер выгрузки в xml</b> и размера жесткого диска.<br></li>
<li>Укажите <b>Минимальное количество метаданных</b> - число файлов и каталогов выгрузки в xml - необходимо для контроля, что все файлы выгружены. Рекомендуется устанавливать 90-95% от текущей версии, чтобы учесть возможность удаления метаданных (т.е. сокращения количества файлов)<br></li>
<li>Не рекомендуется устанавливать <b>Удаление конфигураций поставщиков</b>, если планируется загружать конфигурацию из файлов и обновлять конфигурации поставщиков. Опция позволяет оптимизировать размер хранилища Git и не хранить объемные файлы *.cf.<br></li>
<li>Установите <b>Удалять временные данные версии после коммита</b>&nbsp;- рекомендуется на реальных проектах.<br></li>
<li><b>Выгружать изменения</b>&nbsp;- позволяет на Платформе 8.3.10 и выше выгружать только изменения. Доступно при использовании <b>"Очередей"</b><br></li>
<li><b>Локальный каталог Git</b>&nbsp;рекомендуется указывать на одном логическом диске с <b>Каталогом выгрузки версий</b>&nbsp;- будет использовано перемещение версий возможностями ОС, иначе будет выполняться копирование.<br></li>
<li><b>Каталог выгрузки в репозитории</b>&nbsp;- относительный путь к каталогу выгрузки внутри репозитория. Рекомендуется указывать имя проекта для будущей совместимости с рабочим пространством 1C:EDT или оставить пустым.<br></li>
<li>Установите флаг <b>Выполнять коммиты</b>&nbsp;для выполнения коммитов. Отключение может быть необходимо с целью временно приостановить работу конвертера.<br></li>
<li>Установите флаг <b>Обрабатывать все очереди</b>, если используются очереди в ИБ.<br></li>
</ul>
<p>Нажмите кнопку "Создать гит репозиторий" перед конвертацией - команда выполняет инициализацию репозитория и начальную настройку, специфичную для конфигураций 1С.</p>
</body>
</html>